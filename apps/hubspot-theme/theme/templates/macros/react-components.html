{# React Component Rendering Macros #}
{# These macros render React components server-side in HubSpot templates #}
{# This enables zero-duplication reuse of atoms, molecules, and organisms #}

{% macro Button(props) %}
  {# Render Button component with HubSpot fields #}
  {% set variant = props.variant|default('primary') %}
  {% set size = props.size|default('md') %}
  {% set fullWidth = props.fullWidth|default(false) %}
  {% set children = props.children|default(props.label)|default('Button') %}
  {% set href = props.href|default('#') %}
  {% set disabled = props.disabled|default(false) %}

  {% if props.interactive %}
    {# Interactive button - will be hydrated on client #}
    <div class="react-island"
         data-component="Button"
         data-props='{{ props | tojson }}'
         data-href="{{ href }}">
      <button class="huble-button huble-button--{{ variant }} huble-button--{{ size }}{% if fullWidth %} huble-button--full{% endif %}"
              type="{{ props.type|default('button') }}"
              {% if disabled %}disabled{% endif %}>
        {{ children }}
      </button>
    </div>
  {% else %}
    {# Static button - rendered as link for navigation #}
    <a href="{{ href }}"
       class="huble-button huble-button--{{ variant }} huble-button--{{ size }}{% if fullWidth %} huble-button--full{% endif %}"
       {% if props.target %}target="{{ props.target }}"{% endif %}>
      {{ children }}
    </a>
  {% endif %}
{% endmacro %}

{% macro Card(props) %}
  {# Render Card component with HubSpot fields #}
  {% set variant = props.variant|default('default') %}

  <div class="huble-card huble-card--{{ variant }}">
    {{ caller() }}
  </div>
{% endmacro %}

{% macro CardHeader(props) %}
  <div class="huble-card__header">
    {{ caller() }}
  </div>
{% endmacro %}

{% macro CardBody(props) %}
  <div class="huble-card__body">
    {{ caller() }}
  </div>
{% endmacro %}

{% macro CardFooter(props) %}
  <div class="huble-card__footer">
    {{ caller() }}
  </div>
{% endmacro %}

{% macro Hero(props) %}
  {# Render Hero component with HubSpot fields #}
  {% set heading = props.heading|default('') %}
  {% set description = props.description|default('') %}
  {% set imageSrc = props.imageSrc|default('') %}
  {% set imageAlt = props.imageAlt|default(heading) %}
  {% set imagePosition = props.imagePosition|default('right') %}

  <section class="huble-hero">
    <div class="huble-hero__container">
      <div class="huble-hero__grid{% if imageSrc %} huble-hero__grid--with-image{% endif %}">
        <div class="huble-hero__content" style="order: {% if imagePosition == 'left' %}2{% else %}1{% endif %}">
          <h1 class="huble-hero__heading">{{ heading }}</h1>
          {% if description %}
            <p class="huble-hero__description">{{ description }}</p>
          {% endif %}
          {% if props.primaryCta or props.secondaryCta %}
            <div class="huble-hero__cta">
              {{ caller() }}
            </div>
          {% endif %}
        </div>
        {% if imageSrc %}
          <div class="huble-hero__image-container" style="order: {% if imagePosition == 'left' %}1{% else %}2{% endif %}">
            <img src="{{ imageSrc }}" alt="{{ imageAlt }}" class="huble-hero__image">
          </div>
        {% endif %}
      </div>
    </div>
  </section>
{% endmacro %}
